/*
 * 001_led_toggle.c
 *
 *  Created on: Jul 16, 2020
 *      Author: robert
 */

#include "stm32f446re.h"

int main(void)
{
	GPIO_handle_t gpio_led;
	gpio_led.pGPIOx = GPIOA;
	gpio_led.GPIO_pin_config.GPIO_pin_num = GPIO_PIN_NO_5;
	gpio_led.GPIO_pin_config.GPIO_pin_mode = GPIO_MODE_OUT;
	gpio_led.GPIO_pin_config.GPIO_pin_speed = GPIO_OP_SPEED_FAST;
	gpio_led.GPIO_pin_config.GPIO_pin_op_type = GPIO_OP_TYPE_OD;
	gpio_led.GPIO_pin_config.GPIO_pin_pu_pd = GPIO_PIN_PU;

	GPIO_peri_clock_control(GPIOA, ENABLE);
	GPIO_init(&gpio_led);

	while(1){
		GPIO_toggle_output_pin(GPIOA, GPIO_PIN_NO_5);

		//timer
		for(int i = 0; i < 2000000; i++);
	}

	return 0;
}
